// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package restapi

import (
	"github.com/danielmesquitta/api-finance-manager/internal/app/restapi/handler"
	"github.com/danielmesquitta/api-finance-manager/internal/app/restapi/middleware"
	"github.com/danielmesquitta/api-finance-manager/internal/app/restapi/router"
	"github.com/danielmesquitta/api-finance-manager/internal/config"
	"github.com/danielmesquitta/api-finance-manager/internal/domain/usecase"
	"github.com/danielmesquitta/api-finance-manager/internal/pkg/jwtutil"
	"github.com/danielmesquitta/api-finance-manager/internal/pkg/tx"
	"github.com/danielmesquitta/api-finance-manager/internal/pkg/validator"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/db"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/db/query"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/oauth/googleoauth"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/oauth/mockoauth"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/openfinance/mockpluggy"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/openfinance/pluggy"
	"github.com/danielmesquitta/api-finance-manager/internal/provider/repo/pgrepo"
)

// Injectors from wire_config_gen.go:

// NewDev wires up the application in development mode.
func NewDev(v *validator.Validator, e *config.Env) *App {
	jwt := jwtutil.NewJWT(e)
	middlewareMiddleware := middleware.NewMiddleware(e, jwt)
	healthHandler := handler.NewHealthHandler()
	pool := db.NewPGXPool(e)
	dbDB := db.NewQueries(pool)
	userPgRepo := pgrepo.NewUserPgRepo(dbDB)
	googleOAuth := googleoauth.NewGoogleOAuth()
	mockOAuth := mockoauth.NewMockOAuth(e)
	signIn := usecase.NewSignIn(v, userPgRepo, jwt, googleOAuth, mockOAuth)
	refreshToken := usecase.NewRefreshToken(signIn)
	authHandler := handler.NewAuthHandler(signIn, refreshToken)
	calculateCompoundInterest := usecase.NewCalculateCompoundInterest(v)
	calculateEmergencyReserve := usecase.NewCalculateEmergencyReserve(v)
	calculateRetirement := usecase.NewCalculateRetirement(v, calculateCompoundInterest)
	calculateSimpleInterest := usecase.NewCalculateSimpleInterest(v)
	calculateCashVsInstallments := usecase.NewCalculateCashVsInstallments(v, calculateCompoundInterest)
	calculatorHandler := handler.NewCalculatorHandler(calculateCompoundInterest, calculateEmergencyReserve, calculateRetirement, calculateSimpleInterest, calculateCashVsInstallments)
	client := pluggy.NewClient(e, jwt)
	mockpluggyClient := mockpluggy.NewClient(client)
	queryBuilder := query.NewQueryBuilder(e, dbDB)
	institutionPgRepo := pgrepo.NewInstitutionPgRepo(dbDB, queryBuilder)
	syncInstitutions := usecase.NewSyncInstitutions(mockpluggyClient, institutionPgRepo)
	listInstitutions := usecase.NewListInstitutions(institutionPgRepo)
	institutionHandler := handler.NewInstitutionHandler(syncInstitutions, listInstitutions)
	categoryPgRepo := pgrepo.NewCategoryPgRepo(dbDB, queryBuilder)
	syncCategories := usecase.NewSyncCategories(mockpluggyClient, categoryPgRepo)
	listCategories := usecase.NewListCategories(categoryPgRepo)
	categoryHandler := handler.NewCategoryHandler(syncCategories, listCategories)
	pgxTX := tx.NewPgxTX(pool)
	budgetPgRepo := pgrepo.NewBudgetPgRepo(dbDB)
	upsertBudget := usecase.NewUpsertBudget(v, pgxTX, budgetPgRepo, categoryPgRepo)
	transactionPgRepo := pgrepo.NewTransactionPgRepo(dbDB, queryBuilder)
	getBudget := usecase.NewGetBudget(v, budgetPgRepo, transactionPgRepo)
	getBudgetCategory := usecase.NewGetBudgetCategory(v, budgetPgRepo, transactionPgRepo)
	deleteBudget := usecase.NewDeleteBudget(pgxTX, budgetPgRepo)
	budgetHandler := handler.NewBudgetHandler(upsertBudget, getBudget, getBudgetCategory, deleteBudget)
	getUser := usecase.NewGetUser(userPgRepo)
	userHandler := handler.NewUserHandler(getUser)
	accountPgRepo := pgrepo.NewAccountPgRepo(dbDB)
	syncAccounts := usecase.NewSyncAccounts(v, mockpluggyClient, userPgRepo, accountPgRepo, institutionPgRepo)
	accountHandler := handler.NewAccountHandler(syncAccounts)
	paymentMethodPgRepo := pgrepo.NewPaymentMethodPgRepo(dbDB, queryBuilder)
	syncTransactions := usecase.NewSyncTransactions(v, mockpluggyClient, pgxTX, userPgRepo, transactionPgRepo, categoryPgRepo, paymentMethodPgRepo)
	listTransactions := usecase.NewListTransactions(transactionPgRepo)
	transactionHandler := handler.NewTransactionHandler(syncTransactions, listTransactions)
	routerRouter := router.NewRouter(e, middlewareMiddleware, healthHandler, authHandler, calculatorHandler, institutionHandler, categoryHandler, budgetHandler, userHandler, accountHandler, transactionHandler)
	app := newApp(middlewareMiddleware, routerRouter)
	return app
}

// NewProd wires up the application in production mode.
func NewProd(v *validator.Validator, e *config.Env) *App {
	jwt := jwtutil.NewJWT(e)
	middlewareMiddleware := middleware.NewMiddleware(e, jwt)
	healthHandler := handler.NewHealthHandler()
	pool := db.NewPGXPool(e)
	dbDB := db.NewQueries(pool)
	userPgRepo := pgrepo.NewUserPgRepo(dbDB)
	googleOAuth := googleoauth.NewGoogleOAuth()
	mockOAuth := _wireMockOAuthValue
	signIn := usecase.NewSignIn(v, userPgRepo, jwt, googleOAuth, mockOAuth)
	refreshToken := usecase.NewRefreshToken(signIn)
	authHandler := handler.NewAuthHandler(signIn, refreshToken)
	calculateCompoundInterest := usecase.NewCalculateCompoundInterest(v)
	calculateEmergencyReserve := usecase.NewCalculateEmergencyReserve(v)
	calculateRetirement := usecase.NewCalculateRetirement(v, calculateCompoundInterest)
	calculateSimpleInterest := usecase.NewCalculateSimpleInterest(v)
	calculateCashVsInstallments := usecase.NewCalculateCashVsInstallments(v, calculateCompoundInterest)
	calculatorHandler := handler.NewCalculatorHandler(calculateCompoundInterest, calculateEmergencyReserve, calculateRetirement, calculateSimpleInterest, calculateCashVsInstallments)
	client := pluggy.NewClient(e, jwt)
	queryBuilder := query.NewQueryBuilder(e, dbDB)
	institutionPgRepo := pgrepo.NewInstitutionPgRepo(dbDB, queryBuilder)
	syncInstitutions := usecase.NewSyncInstitutions(client, institutionPgRepo)
	listInstitutions := usecase.NewListInstitutions(institutionPgRepo)
	institutionHandler := handler.NewInstitutionHandler(syncInstitutions, listInstitutions)
	categoryPgRepo := pgrepo.NewCategoryPgRepo(dbDB, queryBuilder)
	syncCategories := usecase.NewSyncCategories(client, categoryPgRepo)
	listCategories := usecase.NewListCategories(categoryPgRepo)
	categoryHandler := handler.NewCategoryHandler(syncCategories, listCategories)
	pgxTX := tx.NewPgxTX(pool)
	budgetPgRepo := pgrepo.NewBudgetPgRepo(dbDB)
	upsertBudget := usecase.NewUpsertBudget(v, pgxTX, budgetPgRepo, categoryPgRepo)
	transactionPgRepo := pgrepo.NewTransactionPgRepo(dbDB, queryBuilder)
	getBudget := usecase.NewGetBudget(v, budgetPgRepo, transactionPgRepo)
	getBudgetCategory := usecase.NewGetBudgetCategory(v, budgetPgRepo, transactionPgRepo)
	deleteBudget := usecase.NewDeleteBudget(pgxTX, budgetPgRepo)
	budgetHandler := handler.NewBudgetHandler(upsertBudget, getBudget, getBudgetCategory, deleteBudget)
	getUser := usecase.NewGetUser(userPgRepo)
	userHandler := handler.NewUserHandler(getUser)
	accountPgRepo := pgrepo.NewAccountPgRepo(dbDB)
	syncAccounts := usecase.NewSyncAccounts(v, client, userPgRepo, accountPgRepo, institutionPgRepo)
	accountHandler := handler.NewAccountHandler(syncAccounts)
	paymentMethodPgRepo := pgrepo.NewPaymentMethodPgRepo(dbDB, queryBuilder)
	syncTransactions := usecase.NewSyncTransactions(v, client, pgxTX, userPgRepo, transactionPgRepo, categoryPgRepo, paymentMethodPgRepo)
	listTransactions := usecase.NewListTransactions(transactionPgRepo)
	transactionHandler := handler.NewTransactionHandler(syncTransactions, listTransactions)
	routerRouter := router.NewRouter(e, middlewareMiddleware, healthHandler, authHandler, calculatorHandler, institutionHandler, categoryHandler, budgetHandler, userHandler, accountHandler, transactionHandler)
	app := newApp(middlewareMiddleware, routerRouter)
	return app
}

var (
	_wireMockOAuthValue = (*mockoauth.MockOAuth)(nil)
)
